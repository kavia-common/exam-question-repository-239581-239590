{"is_source_file": true, "format": "TypeScript", "description": "This file defines a React hook 'usePreferences' for managing user preferences with local state, effects, and external data functions. It handles loading, saving, and updating preferences related to university, stream, and college selections.", "external_files": ["@/lib/preferences", "@/lib/mockData"], "external_methods": ["loadPreferences", "savePreferences", "clearPreferences", "getStreamsForUniversity"], "published": ["usePreferences", "PreferencesState"], "classes": [], "methods": [{"name": "export function usePreferences(): PreferencesState { usePreferences", "description": "A React hook that manages user preferences state, including loading initial preferences, updating them, and persisting changes.", "scope": "", "scopeKind": ""}], "calls": ["loadPreferences", "savePreferences", "clearPreferences", "getStreamsForUniversity"], "search-terms": ["usePreferences", "PreferencesState", "useEffect loadPreferences savePreferences", "localStorage preferences", "React hook preferences"], "state": 2, "file_id": 14, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "Preferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^import { clearPreferences, loadPreferences, savePreferences, type Preferences } from \"@\\/lib\\/pr/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "PreferencesState", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^export type PreferencesState = Preferences & {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "allowed", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^            const allowed = getStreamsForUniversity(prev.universityId).some((s) => s.id === stre/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^  const api = useMemo<PreferencesState>(() => {$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "initial", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^    const initial = loadPreferences();$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "isReady", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^  const [isReady, setIsReady] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "prefs", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^  const [prefs, setPrefs] = useState<Preferences>({});$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "setIsReady", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^  const [isReady, setIsReady] = useState(false);$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "setPrefs", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^  const [prefs, setPrefs] = useState<Preferences>({});$/", "language": "TypeScript", "kind": "constant", "scope": "usePreferences", "scopeKind": "function"}, {"_type": "tag", "name": "usePreferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/usePreferences.ts", "pattern": "/^export function usePreferences(): PreferencesState {$/", "language": "TypeScript", "kind": "function"}], "hash": "d03eb16aec0fe9aac91e14ee7d3aa69f", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/lib/usePreferences.ts", "revision_history": [{"29": ""}]}