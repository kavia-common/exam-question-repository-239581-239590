{"is_source_file": true, "format": "TypeScript", "description": "This file defines functions for managing user preferences in a web application, including loading, saving, and clearing preferences stored in localStorage.", "external_files": ["window.localStorage", "JSON"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse", "JSON.stringify"], "published": ["loadPreferences", "savePreferences", "clearPreferences"], "classes": [], "methods": [{"name": "export function loadPreferences(): Preferences { loadPreferences", "description": "Loads user preferences from localStorage; safe to call on server, returns empty preferences if not available.", "scope": "", "scopeKind": ""}, {"name": "export function savePreferences(next: Preferences): void { savePreferences", "description": "Persists user preferences to localStorage; no-operation if on server or storage fails.", "scope": "", "scopeKind": ""}, {"name": "export function clearPreferences(): void { clearPreferences", "description": "Removes preferences from localStorage; no-operation if on server or removal fails.", "scope": "", "scopeKind": ""}, {"name": "function canUseDom() { canUseDom", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["canUseDom", "window.localStorage.getItem", "window.localStorage.setItem", "window.localStorage.removeItem", "JSON.parse", "JSON.stringify"], "search-terms": ["preferences", "localStorage", "savePreferences", "loadPreferences", "clearPreferences", "STORAGE_KEY", "canUseDom"], "state": 2, "file_id": 13, "knowledge_revision": 27, "git_revision": "", "ctags": [{"_type": "tag", "name": "Preferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^export type Preferences = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^const STORAGE_KEY = \"aqp.preferences.v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "canUseDom", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^function canUseDom() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "clearPreferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^export function clearPreferences(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loadPreferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^export function loadPreferences(): Preferences {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^    const parsed = JSON.parse(raw) as Preferences;$/", "language": "TypeScript", "kind": "constant", "scope": "loadPreferences", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^    const raw = window.localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "loadPreferences", "scopeKind": "function"}, {"_type": "tag", "name": "savePreferences", "path": "/home/kavia/workspace/code-generation/exam-question-repository-239581-239590/frontend_app/src/lib/preferences.ts", "pattern": "/^export function savePreferences(next: Preferences): void {$/", "language": "TypeScript", "kind": "function"}], "hash": "75f8efffe34c200f81c75fbd31b182f3", "format-version": 4, "code-base-name": "frontend_app", "filename": "frontend_app/src/lib/preferences.ts", "revision_history": [{"27": ""}]}